import argparse
from scr.updater import check_version
from scr.products import export_products, check_exported_csv

def main():
    """
    –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.
    """
    # 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ä—Å–µ—Ä–∞
    parser = argparse.ArgumentParser(description="–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –æ–Ω–æ–≤–ª–µ–Ω–Ω—è WooCommerce.")
    
    # 2. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤
    parser.add_argument(
        "--export", 
        action="store_true", 
        help="–ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏ –º–∞–≥–∞–∑–∏–Ω—É —É CSV —Ñ–∞–π–ª."
    )
    parser.add_argument(
        "--check-version", 
        action="store_true", 
        help="–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é WooCommerce REST API."
    )

    parser.add_argument(
        "--check-csv",
        action="store_true",
        help="–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∞ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏–π CSV —Ñ–∞–π–ª."
    )
    # –°—é–¥–∏ –º–æ–∂–Ω–∞ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏ —ñ–Ω—à—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É
    # parser.add_argument(
    #     "--import-products", 
    #     action="store_true", 
    #     help="–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –∑ —Ñ–∞–π–ª—ñ–≤ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤."
    # )

    # 3. –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤
    args = parser.parse_args()

    # 4. –í–∏–±—ñ—Ä —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∑–∞–ø—É—Å–∫—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤
    if args.export:
        print("üöÄ –ó–∞–ø—É—Å–∫–∞—é –µ–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä—ñ–≤...")
        export_products()
    elif args.check_version:
        print("üîç –ó–∞–ø—É—Å–∫–∞—é –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤–µ—Ä—Å—ñ—ó WooCommerce...")
        check_version()
    elif args.check_csv:
        print("‚öôÔ∏è –ó–∞–ø—É—Å–∫–∞—é –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ CSV...")
        check_exported_csv()
    # elif args.import_products:
    #     # print("üì¶ –ó–∞–ø—É—Å–∫–∞—é —ñ–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä—ñ–≤...")
    #     # import_products() # –¶—é —Ñ—É–Ω–∫—Ü—ñ—é –º–∏ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—ñ–∑–Ω—ñ—à–µ
    else:
        # –Ø–∫—â–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ, –≤–∏–≤–µ—Å—Ç–∏ –¥–æ–≤—ñ–¥–∫—É
        print("‚ùå –ù–µ –≤–∫–∞–∑–∞–Ω–æ –∂–æ–¥–Ω–æ—ó –¥—ñ—ó. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ -h –∞–±–æ --help –¥–ª—è –¥–æ–≤—ñ–¥–∫–∏.")
        parser.print_help()

if __name__ == "__main__":
    main()